define('StateManager', [], function() {
  var StateManager;
  return new (StateManager = (function() {
    var activeState, states;

    states = {};

    activeState = null;

    StateManager.prototype.go = function(name, parameters) {
      var state;
      if (parameters == null) {
        parameters = {};
      }
      if (!states[name]) {
        throw new Error("No State with name \"" + name + "\" found.");
      }
      state = states[name];
      activeState = state;
      return state.activate(parameters);
    };

    StateManager.prototype.registerState = function(state) {
      var name;
      name = state.generateName();
      if (states[state.generateName()]) {
        throw new Error('State with name "' + name + '" already exists.');
      }
      return states[state.generateName()] = state;
    };

    StateManager.prototype.getState = function(name) {
      return states[name];
    };

    StateManager.prototype.clear = function() {
      if (activeState != null) {
        activeState.getParentChain()[0].deactivate();
      }
      return states = {};
    };

    function StateManager() {
      this.clear();
    }

    return StateManager;

  })());
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlN0YXRlTWFuYWdlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBQSxDQUFPLGNBQVAsRUFBdUIsRUFBdkIsRUFBMkIsU0FBQSxHQUFBO0FBQ3pCLE1BQUEsWUFBQTtTQUFBLEdBQUEsQ0FBQSxDQUFVO0FBQ1IsUUFBQSxtQkFBQTs7QUFBQSxJQUFBLE1BQUEsR0FBUyxFQUFULENBQUE7O0FBQUEsSUFDQSxXQUFBLEdBQWMsSUFEZCxDQUFBOztBQUFBLDJCQUdBLEVBQUEsR0FBSSxTQUFDLElBQUQsRUFBTyxVQUFQLEdBQUE7QUFDRixVQUFBLEtBQUE7O1FBRFMsYUFBVztPQUNwQjtBQUFBLE1BQUEsSUFBQSxDQUFBLE1BQWMsQ0FBQSxJQUFBLENBQWQ7QUFDRSxjQUFVLElBQUEsS0FBQSxDQUFNLHVCQUFBLEdBQXdCLElBQXhCLEdBQTZCLFdBQW5DLENBQVYsQ0FERjtPQUFBO0FBQUEsTUFFQSxLQUFBLEdBQVEsTUFBTyxDQUFBLElBQUEsQ0FGZixDQUFBO0FBQUEsTUFHQSxXQUFBLEdBQWMsS0FIZCxDQUFBO0FBSUEsYUFBTyxLQUFLLENBQUMsUUFBTixDQUFlLFVBQWYsQ0FBUCxDQUxFO0lBQUEsQ0FISixDQUFBOztBQUFBLDJCQVVBLGFBQUEsR0FBZSxTQUFDLEtBQUQsR0FBQTtBQUNiLFVBQUEsSUFBQTtBQUFBLE1BQUEsSUFBQSxHQUFPLEtBQUssQ0FBQyxZQUFOLENBQUEsQ0FBUCxDQUFBO0FBQ0EsTUFBQSxJQUFHLE1BQU8sQ0FBQSxLQUFLLENBQUMsWUFBTixDQUFBLENBQUEsQ0FBVjtBQUNFLGNBQVUsSUFBQSxLQUFBLENBQU0sbUJBQUEsR0FBc0IsSUFBdEIsR0FBNkIsbUJBQW5DLENBQVYsQ0FERjtPQURBO2FBR0EsTUFBTyxDQUFBLEtBQUssQ0FBQyxZQUFOLENBQUEsQ0FBQSxDQUFQLEdBQStCLE1BSmxCO0lBQUEsQ0FWZixDQUFBOztBQUFBLDJCQWdCQSxRQUFBLEdBQVUsU0FBQyxJQUFELEdBQUE7YUFDUixNQUFPLENBQUEsSUFBQSxFQURDO0lBQUEsQ0FoQlYsQ0FBQTs7QUFBQSwyQkFtQkEsS0FBQSxHQUFPLFNBQUEsR0FBQTs7UUFDTCxXQUFXLENBQUUsY0FBYixDQUFBLENBQThCLENBQUEsQ0FBQSxDQUFFLENBQUMsVUFBakMsQ0FBQTtPQUFBO2FBQ0EsTUFBQSxHQUFTLEdBRko7SUFBQSxDQW5CUCxDQUFBOztBQXVCYSxJQUFBLHNCQUFBLEdBQUE7QUFDWCxNQUFBLElBQUMsQ0FBQSxLQUFELENBQUEsQ0FBQSxDQURXO0lBQUEsQ0F2QmI7O3dCQUFBOztRQUZ1QjtBQUFBLENBQTNCLENBQUEsQ0FBQSIsImZpbGUiOiJTdGF0ZU1hbmFnZXIuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUgJ1N0YXRlTWFuYWdlcicsIFtdLCAoKS0+XG4gIG5ldyBjbGFzcyBTdGF0ZU1hbmFnZXJcbiAgICBzdGF0ZXMgPSB7fVxuICAgIGFjdGl2ZVN0YXRlID0gbnVsbFxuXG4gICAgZ286IChuYW1lLCBwYXJhbWV0ZXJzPXt9KSAtPlxuICAgICAgdW5sZXNzIHN0YXRlc1tuYW1lXVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IgXCJObyBTdGF0ZSB3aXRoIG5hbWUgXFxcIiN7bmFtZX1cXFwiIGZvdW5kLlwiXG4gICAgICBzdGF0ZSA9IHN0YXRlc1tuYW1lXVxuICAgICAgYWN0aXZlU3RhdGUgPSBzdGF0ZVxuICAgICAgcmV0dXJuIHN0YXRlLmFjdGl2YXRlIHBhcmFtZXRlcnNcblxuICAgIHJlZ2lzdGVyU3RhdGU6IChzdGF0ZSkgLT5cbiAgICAgIG5hbWUgPSBzdGF0ZS5nZW5lcmF0ZU5hbWUoKVxuICAgICAgaWYgc3RhdGVzW3N0YXRlLmdlbmVyYXRlTmFtZSgpXVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0YXRlIHdpdGggbmFtZSBcIicgKyBuYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzLicpXG4gICAgICBzdGF0ZXNbc3RhdGUuZ2VuZXJhdGVOYW1lKCldID0gc3RhdGVcblxuICAgIGdldFN0YXRlOiAobmFtZSktPlxuICAgICAgc3RhdGVzW25hbWVdXG5cbiAgICBjbGVhcjogKCktPlxuICAgICAgYWN0aXZlU3RhdGU/LmdldFBhcmVudENoYWluKClbMF0uZGVhY3RpdmF0ZSgpXG4gICAgICBzdGF0ZXMgPSB7fVxuXG4gICAgY29uc3RydWN0b3I6IC0+XG4gICAgICBAY2xlYXIoKSJdfQ==